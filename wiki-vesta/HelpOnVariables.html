<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="index,nofollow">

<title>HelpOnVariables - Vesta Wiki</title>
<script type="text/javascript" src="moin_static199/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="moin_static199/vesta/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="moin_static199/vesta/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="moin_static199/vesta/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="moin_static199/vesta/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="moin_static199/vesta/css/msie.css">
<![endif]-->


<link rel="alternate" title="Vesta Wiki: HelpOnVariables" href="HelpOnVariables%3Fdiffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=HelpOnVariables&amp;ddiffs=1.html" type="application/rss+xml">


<link rel="Start" href="FrontPage.html">
<link rel="Alternate" title="Wiki Markup" href="HelpOnVariables%3Faction=raw.html">
<link rel="Alternate" media="print" title="Print View" href="HelpOnVariables%3Faction=print.html">
<link rel="Search" href="FindPage.html">
<link rel="Index" href="TitleIndex.html">
<link rel="Glossary" href="WordIndex.html">
<link rel="Help" href="HelpOnFormatting.html">
</head>

<body  lang="en" dir="ltr">

<div id="header">

<form id="searchform" method="get" action="HelpOnVariables.html">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<div id="logo"><a href="FrontPage.html"><img src="wiki/vesta/img/1line.png" alt="Vesta" height=44 width=202></a></div>
<div id="locationline">

<ul id="pagelocation">
<li><a href="HelpOnVariables.html">HelpOnVariables</a></li>
</ul>

</div>
</div>

<div id="sidebar">
<div class="sidepanel">
<h1>Wiki</h1>

<ul id="navibar">
<li class="wikilink"><a href="RecentChanges.html">RecentChanges</a></li><li class="wikilink"><a href="FindPage.html">FindPage</a></li><li class="wikilink"><a href="HelpContents.html">HelpContents</a></li><li class="current"><a href="HelpOnVariables.html">HelpOnVariables</a></li>
</ul>

</div>
<div class="sidepanel">
<h1>User</h1>
<ul id="username"><li><a href="HelpOnVariables%3Faction=login.html" id="login" rel="nofollow">Login</a></li></ul>
</div>
</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><p class="line867">
<h1 id="Variables">Variables</h1>
<span class="anchor" id="line-7"></span><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="HelpOnVariables.html#Variables">Variables</a><ol><li>
<a href="HelpOnVariables.html#Predefined_Variables">Predefined Variables</a></li><li>
<a href="HelpOnVariables.html#Defining_New_Variables">Defining New Variables</a></li><li>
<a href="HelpOnVariables.html#Getting_Variables">Getting Variables</a><ol><li>
<a href="HelpOnVariables.html#At_Every_Page_Refresh">At Every Page Refresh</a></li><li>
<a href="HelpOnVariables.html#When_Saving_the_Page">When Saving the Page</a></li></ol></li></ol></li></ol></div> <span class="anchor" id="line-8"></span>This page tells you more how you can use variables in wiki pages. This is especially helpful within <a href="HelpOnTemplates.html">templates</a>, but also on &quot;normal&quot; wiki pages (like for signing a contribution). <span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><p class="line867">
<h2 id="Predefined_Variables">Predefined Variables</h2>
<span class="anchor" id="line-11"></span><p class="line862">The following variables are substituted when a page is saved. <em><strong>Note that they will appear unreplaced in the preview!</strong></em> <span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><div><table><tbody><tr style="background-color: &amp;quot;#ffffcc&amp;quot">  <td><p class="line862"> <strong>Variable</strong> </td>
  <td><p class="line862"> <strong>Description</strong>                            </td>
  <td><p class="line862"> <strong>Example – markup</strong>                             </td>
  <td><p class="line862"> <strong>Example – render</strong> </td>
</tr>
<tr>  <td><span class="anchor" id="line-14"></span><p class="line862"> @<tt class="backtick"></tt>PAGE@                             </td>
  <td><p class="line862"> Name of the page (useful for template pages) </td>
  <td><p class="line862"> <tt class="backtick">HelpOnPageCreation</tt>                               </td>
  <td><p class="line862"> <a href="HelpOnPageCreation.html">HelpOnPageCreation</a>     </td>
</tr>
<tr>  <td><span class="anchor" id="line-15"></span><p class="line862"> @<tt class="backtick"></tt>TIMESTAMP@                        </td>
  <td><p class="line862"> Raw time stamp                               </td>
  <td><p class="line862"> <tt class="backtick">2004-08-30T06:38:05Z</tt>                             </td>
  <td><p class="line862"> 2004-08-30T06:38:05Z   </td>
</tr>
<tr>  <td><span class="anchor" id="line-16"></span><p class="line862"> @<tt class="backtick"></tt>DATE@                             </td>
  <td><p class="line862"> Current date in the system's format          </td>
  <td><p class="line862"> <tt class="backtick">&lt;&lt;Date(2004-08-30T06:38:05Z)&gt;&gt;</tt>                   </td>
  <td><p class="line862"> 2004-08-30 </td>
</tr>
<tr>  <td><span class="anchor" id="line-17"></span><p class="line862"> @<tt class="backtick"></tt>TIME@                             </td>
  <td><p class="line862"> Current date and time in the user's format   </td>
  <td><p class="line862"> <tt class="backtick">&lt;&lt;DateTime(2004-08-30T06:38:05Z)&gt;&gt;</tt>               </td>
  <td><p class="line862"> 2004-08-30 06:38:05 </td>
</tr>
<tr>  <td><span class="anchor" id="line-18"></span><p class="line862"> @<tt class="backtick"></tt>ME@                               </td>
  <td><p class="line862"> Just the user's name                         </td>
  <td><p class="line862"> <tt class="backtick">TheAnarcat</tt>                                       </td>
  <td><p class="line862"> <a class="nonexistent" href="TheAnarcat.html">TheAnarcat</a> </td>
</tr>
<tr>  <td><span class="anchor" id="line-19"></span><p class="line862"> @<tt class="backtick"></tt>USERNAME@                         </td>
  <td><p class="line862"> Just the user's name (or his domain/IP)      </td>
  <td><p class="line862"> <tt class="backtick">TheAnarcat</tt>                                       </td>
  <td><p class="line862"> <tt class="backtick">TheAnarcat</tt> </td>
</tr>
<tr>  <td><span class="anchor" id="line-20"></span><p class="line862"> @<tt class="backtick"></tt>USER@                             </td>
  <td><p class="line862"> Signature &quot;-- loginname&quot;                     </td>
  <td><p class="line862"> <tt class="backtick">--&nbsp;TheAnarcat</tt>                                    </td>
  <td><p class="line862"> -- <a class="nonexistent" href="TheAnarcat.html">TheAnarcat</a> </td>
</tr>
<tr>  <td><span class="anchor" id="line-21"></span><p class="line862"> @<tt class="backtick"></tt>SIG@                              </td>
  <td><p class="line862"> Dated Signature &quot;-- loginname date time&quot;     </td>
  <td><p class="line862"> <tt class="backtick">--&nbsp;TheAnarcat&nbsp;&lt;&lt;DateTime(2004-08-30T06:38:05Z)&gt;&gt;</tt> </td>
  <td><p class="line862"> -- <a class="nonexistent" href="TheAnarcat.html">TheAnarcat</a> 2004-08-30 06:38:05 </td>
</tr>
<tr>  <td><span class="anchor" id="line-22"></span><p class="line862"> @<tt class="backtick"></tt>EMAIL@                            </td>
  <td><p class="line862"> <tt class="backtick">&lt;&lt;MailTo()&gt;&gt;</tt> Just the user's email address, obfuscation can be extended </td>
  <td><p class="line862"> e.g. test DOT user AT example DOT com </td>
  <td><p class="line862"> </td>
</tr>
<tr>  <td><span class="anchor" id="line-23"></span><p class="line862"> @<tt class="backtick"></tt>MAILTO@                           </td>
  <td><p class="line862"> A fancy mailto: link with the user's data    </td>
  <td><p class="line862"> None – on public sites, better use the Mail<tt class="backtick"></tt>To macro </td>
  <td><p class="line862"> </td>
</tr>
</tbody></table></div><span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span><p class="line867">
<h2 id="Defining_New_Variables">Defining New Variables</h2>
<span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><p class="line874">If the builtin variables are not enough, you can define new variables by creating a sub-page of <span class="anchor" id="line-29"></span>your home page with a dictionary of variables in it.  For example, if your username is JohnDoe, you <span class="anchor" id="line-30"></span>would create page <tt class="backtick">JohnDoe/MyDict</tt> with the content like: <span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><pre><span class="anchor" id="line-1"></span> VAR1:: some random text
<span class="anchor" id="line-2"></span> VAR2:: use ''any'' wiki markup</pre><span class="anchor" id="line-35"></span><p class="line862">Then, whenever you edit a page, you can use <tt class="backtick">@VAR1@</tt> or <tt class="backtick">@VAR2@</tt> to expand to the text in that <span class="anchor" id="line-36"></span>dictionary.  (Note that the lines in a dictionary must start with <em>exactly</em> one space.) <span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><p class="line867">
<h2 id="Getting_Variables">Getting Variables</h2>
<span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><p class="line867">
<h3 id="At_Every_Page_Refresh">At Every Page Refresh</h3>
<span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><p class="line862">You can use these values using the <tt class="backtick">GetVal</tt> macro: <span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><p class="line867"><span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><pre><span class="anchor" id="line-1-1"></span>&lt;&lt;GetVal(WikiDict,var1)&gt;&gt; &lt;&lt;GetVal(WikiDict,var2)&gt;&gt; &lt;&lt;GetVal(WikiDict,var3)&gt;&gt;</pre><span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><p class="line874">Renders as: <span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><p class="line867">   <span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><p class="line867">
<h3 id="When_Saving_the_Page">When Saving the Page</h3>
<span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><p class="line862">If the variables are set on UserName/MyDict (UserName must of course be replaced as appropriate), you can get the variables when saving any page with @var1@, @var2@, ...etc. instead of the <tt>GetVal</tt> macro.  <span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><p class="line867"><img alt="/!\" height="15" src="moin_static199/vesta/img/alert.png.html" title="/!\" width="15" /> Note that data in dict pages is cached and does not require opening and parsing the page file for each access to the value. In CGI, the value is fetched from a pickle, in long running process, the pickle is loaded once and then the value is accessed from memory. <span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><p class="line867"><img alt="/!\" height="15" src="moin_static199/vesta/img/alert.png.html" title="/!\" width="15" /> Note that saving template pages and using preview does <em>not</em> expand variables. Other than that, variable expansion is very global and happens anywhere on the page, including code displays, comments, processing instructions and other &quot;special&quot; areas of a page you might think are excluded. <span class="anchor" id="line-61"></span><span class="anchor" id="bottom"></span></div>
<div id="pagebottom"></div>
</div>


<div id="footer">
<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>
</html>

