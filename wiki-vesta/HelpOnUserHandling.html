<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="index,nofollow">

<title>HelpOnUserHandling - Vesta Wiki</title>
<script type="text/javascript" src="moin_static199/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="moin_static199/vesta/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="moin_static199/vesta/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="moin_static199/vesta/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="moin_static199/vesta/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="moin_static199/vesta/css/msie.css">
<![endif]-->


<link rel="alternate" title="Vesta Wiki: HelpOnUserHandling" href="HelpOnUserHandling%3Fdiffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=HelpOnUserHandling&amp;ddiffs=1.html" type="application/rss+xml">


<link rel="Start" href="FrontPage.html">
<link rel="Alternate" title="Wiki Markup" href="HelpOnUserHandling%3Faction=raw.html">
<link rel="Alternate" media="print" title="Print View" href="HelpOnUserHandling%3Faction=print.html">
<link rel="Search" href="FindPage.html">
<link rel="Index" href="TitleIndex.html">
<link rel="Glossary" href="WordIndex.html">
<link rel="Help" href="HelpOnFormatting.html">
</head>

<body  lang="en" dir="ltr">

<div id="header">

<form id="searchform" method="get" action="HelpOnUserHandling.html">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<div id="logo"><a href="FrontPage.html"><img src="wiki/vesta/img/1line.png" alt="Vesta" height=44 width=202></a></div>
<div id="locationline">

<ul id="pagelocation">
<li><a href="HelpOnUserHandling.html">HelpOnUserHandling</a></li>
</ul>

</div>
</div>

<div id="sidebar">
<div class="sidepanel">
<h1>Wiki</h1>

<ul id="navibar">
<li class="wikilink"><a href="RecentChanges.html">RecentChanges</a></li><li class="wikilink"><a href="FindPage.html">FindPage</a></li><li class="wikilink"><a href="HelpContents.html">HelpContents</a></li><li class="current"><a href="HelpOnUserHandling.html">HelpOnUserHandling</a></li>
</ul>

</div>
<div class="sidepanel">
<h1>User</h1>
<ul id="username"><li><a href="HelpOnUserHandling%3Faction=login.html" id="login" rel="nofollow">Login</a></li></ul>
</div>
</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><p class="line867">
<h1 id="How_to_Maintain_User_Data">How to Maintain User Data</h1>
<span class="anchor" id="line-10"></span><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="HelpOnUserHandling.html#How_to_Maintain_User_Data">How to Maintain User Data</a><ol><li>
<a href="HelpOnUserHandling.html#Disable_a_user_account">Disable a user account</a></li><li>
<a href="HelpOnUserHandling.html#Removing_a_user_account">Removing a user account</a></li><li>
<a href="HelpOnUserHandling.html#Sharing_user_accounts_in_wiki_farms">Sharing user accounts in wiki farms</a></li></ol></li></ol></div> <span class="anchor" id="line-11"></span>User data is stored in directory data/user in files that have the user id as filename. <span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><p class="line862">To speed up processing, <a href="MoinMoin.html">MoinMoin</a> also maintains a mapping from user name to user id and saves it under <tt class="backtick">&lt;cache_dir&gt;/.../user/name2id</tt> - these are internal data structures and you must not change those files. If you are in doubt whether name2id is correct or up-to-date, then just delete it and it will be re-generated automatically by moin. If you run a persistent (non-cgi) moin, restart <a href="MoinMoin.html">MoinMoin</a>. <span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><p class="line867">
<h2 id="Disable_a_user_account">Disable a user account</h2>
<span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><p class="line862">You can disable a user account if you are logged in as a superuser (see <a href="HelpOnSuperUser.html">HelpOnSuperUser</a>) and choose to switch to the account of the user via the superuser preferences (so that you will temporarily be logged in as the user to be deleted) and choose &quot;Disable this account forever&quot; in the preferences. After that you should log out to be logged in as yourself again. <span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><p class="line867">
<h2 id="Removing_a_user_account">Removing a user account</h2>
<span class="anchor" id="line-20"></span><p class="line874">You can remove a user by deleting his user file (and other files that are named with that userid prefix). <span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><p class="line862">Be aware that if you do that, you will destroy the edit history of that user. Moin won't be able to show this user in page history, because this user id will then be unknown. So better disable an account rather than removing it. After user data is deleted, <a href="MoinMoin.html">MoinMoin</a> may still think the user exists due to the user cache in data/cache/user/name2id.  Deleting this file purges the cache and should fix this problem. <span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><p class="line867">
<h2 id="Sharing_user_accounts_in_wiki_farms">Sharing user accounts in wiki farms</h2>
<span class="anchor" id="line-25"></span><p class="line862">On single wikis you don't do anything special, each wiki will have a separate <tt class="backtick">data/user/</tt> directory and nothing will be shared. <span class="anchor" id="line-26"></span>In a wiki farm with two or more wikis you can share user accounts and data. Add to farmconfig.py  <span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><pre><span class="anchor" id="line-1"></span>user_dir = '/farm/user' # common user directory for all farm wikis</pre><span class="anchor" id="line-30"></span><p class="line874">if you want that all farm wikis share user accounts, or put the respective absolute path name of the shared user directory in the wikiconfig.py file of the wikis, you want them to share data. <span class="anchor" id="line-31"></span>Make sure that all of your wikis have some unique interwiki name set in their wikiconfig.py files: <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><pre><span class="anchor" id="line-1-1"></span>interwikiname = &quot;WikiOne&quot;  # others: WikiTwo, WikiThree or whatever you like</pre><span class="anchor" id="line-35"></span><p class="line874">Do also add the interwiki names of all farm wikis to the interwiki lists of the wikis so that the wikis can resolve these new names. If you don't set interwiki names, page trail, page subscriptions and quicklinks won't work properly. <span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><p class="line862">In farmconfig.py you can also set the value <tt>user_homewiki</tt> to have one wiki where all the user home pages are stored. This could be useful if you have many users. You could even link to nonwiki &quot;user pages&quot; if the wiki username is in the target URL. See <a href="HelpOnConfiguration.html">HelpOnConfiguration</a> for more on that. <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><p class="line867"><img alt="/!\" height="15" src="moin_static199/vesta/img/alert.png.html" title="/!\" width="15" /> If you don't set a unique interwiki name, <a href="MoinMoin.html">MoinMoin</a> might not work correctly. You also should strongly avoid changing the interwiki name. <span class="anchor" id="line-40"></span><span class="anchor" id="bottom"></span></div>
<div id="pagebottom"></div>
</div>


<div id="footer">
<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>
</html>

