<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="index,nofollow">

<title>UsingVCacheStats - Vesta Wiki</title>
<script type="text/javascript" src="moin_static199/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="moin_static199/vesta/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="moin_static199/vesta/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="moin_static199/vesta/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="moin_static199/vesta/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="moin_static199/vesta/css/msie.css">
<![endif]-->


<link rel="alternate" title="Vesta Wiki: UsingVCacheStats" href="UsingVCacheStats%3Fdiffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=UsingVCacheStats&amp;ddiffs=1.html" type="application/rss+xml">


<link rel="Start" href="FrontPage.html">
<link rel="Alternate" title="Wiki Markup" href="UsingVCacheStats%3Faction=raw.html">
<link rel="Alternate" media="print" title="Print View" href="UsingVCacheStats%3Faction=print.html">
<link rel="Appendix" title="autogenerated-a9006131f1ae7aaa2b9a94e96f75834798e89cf8.png" href="UsingVCacheStats%3Faction=AttachFile&amp;do=view&amp;target=autogenerated-a9006131f1ae7aaa2b9a94e96f75834798e89cf8.png.html">
<link rel="Appendix" title="autogenerated-b250b52d78d62baaae7d7caa28007e3f39224a56.png" href="UsingVCacheStats%3Faction=AttachFile&amp;do=view&amp;target=autogenerated-b250b52d78d62baaae7d7caa28007e3f39224a56.png.html">
<link rel="Appendix" title="delete.me.to.regenerate.images" href="UsingVCacheStats%3Faction=AttachFile&amp;do=view&amp;target=delete.me.to.regenerate.images.html">
<link rel="Search" href="FindPage.html">
<link rel="Index" href="TitleIndex.html">
<link rel="Glossary" href="WordIndex.html">
<link rel="Help" href="HelpOnFormatting.html">
</head>

<body  lang="en" dir="ltr">

<div id="header">

<form id="searchform" method="get" action="UsingVCacheStats.html">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<div id="logo"><a href="FrontPage.html"><img src="wiki/vesta/img/1line.png" alt="Vesta" height=44 width=202></a></div>
<div id="locationline">

<ul id="pagelocation">
<li><a href="UsingVCacheStats.html">UsingVCacheStats</a></li>
</ul>

</div>
</div>

<div id="sidebar">
<div class="sidepanel">
<h1>Wiki</h1>

<ul id="navibar">
<li class="wikilink"><a href="RecentChanges.html">RecentChanges</a></li><li class="wikilink"><a href="FindPage.html">FindPage</a></li><li class="wikilink"><a href="HelpContents.html">HelpContents</a></li><li class="current"><a href="UsingVCacheStats.html">UsingVCacheStats</a></li>
</ul>

</div>
<div class="sidepanel">
<h1>User</h1>
<ul id="username"><li><a href="UsingVCacheStats%3Faction=login.html" id="login" rel="nofollow">Login</a></li></ul>
</div>
</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="UsingVCacheStats.html#Introduction">Introduction</a></li><li>
<a href="UsingVCacheStats.html#Statistics">Statistics</a><ol><li>
<a href="UsingVCacheStats.html#PKFile_size_.28in_bytes.29">PKFile size (in bytes)</a><ol><li>
<a href="UsingVCacheStats.html#How_to_Improve">How to Improve</a></li></ol></li><li>
<a href="UsingVCacheStats.html#Number_of_free_variables_per_PKFile">Number of free variables per PKFile</a><ol><li>
<a href="UsingVCacheStats.html#How_to_Improve-1">How to Improve</a></li></ol></li><li>
<a href="UsingVCacheStats.html#Number_of_common_free_variables_per_PKFile">Number of common free variables per PKFile</a><ol><li>
<a href="UsingVCacheStats.html#How_to_Improve-2">How to Improve</a></li></ol></li><li>
<a href="UsingVCacheStats.html#Percentage_of_common_free_variables_per_PKFile">Percentage of common free variables per PKFile</a><ol><li>
<a href="UsingVCacheStats.html#How_to_Improve-3">How to Improve</a></li></ol></li><li>
<a href="UsingVCacheStats.html#Number_of_cache_entries_per_PKFile">Number of cache entries per PKFile</a><ol><li>
<a href="UsingVCacheStats.html#How_to_Improve-4">How to Improve</a></li></ol></li><li>
<a href="UsingVCacheStats.html#Number_of_total_free_variables_per_cache_entry">Number of total free variables per cache entry</a><ol><li>
<a href="UsingVCacheStats.html#How_to_Improve-5">How to Improve</a></li></ol></li><li>
<a href="UsingVCacheStats.html#Number_of_uncommon_free_variables_per_cache_entry">Number of uncommon free variables per cache entry</a><ol><li>
<a href="UsingVCacheStats.html#How_to_Improve-6">How to Improve</a></li></ol></li><li>
<a href="UsingVCacheStats.html#Percentage_of_uncommon_free_variables_per_cache_entry">Percentage of uncommon free variables per cache entry</a><ol><li>
<a href="UsingVCacheStats.html#How_to_Improve-7">How to Improve</a></li></ol></li><li>
<a href="UsingVCacheStats.html#Cache_value_size_.28in_bytes.29">Cache value size (in bytes)</a><ol><li>
<a href="UsingVCacheStats.html#How_to_Improve-8">How to Improve</a></li></ol></li><li>
<a href="UsingVCacheStats.html#Number_of_derived_indices_.28DI.27s.29_per_cache_value">Number of derived indices (DI's) per cache value</a><ol><li>
<a href="UsingVCacheStats.html#How_to_Improve-9">How to Improve</a></li></ol></li><li>
<a href="UsingVCacheStats.html#Number_of_child_entries_.28kids.29_per_cache_entry">Number of child entries (kids) per cache entry</a><ol><li>
<a href="UsingVCacheStats.html#How_to_Improve-10">How to Improve</a></li></ol></li><li>
<a href="UsingVCacheStats.html#Size_of_the_cached_value.27s_PrefixTbl">Size of the cached value's PrefixTbl</a><ol><li>
<a href="UsingVCacheStats.html#How_to_Improve-11">How to Improve</a></li></ol></li></ol></li></ol></div> <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line867">
<h1 id="Introduction">Introduction</h1>
<span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><p class="line874">The Vesta cache can be thought of as a custom database.  The structure of the data stored there and the way queries are made to it are defined by the SDL code.  As with most programming tasks, there are many different ways to write an SDL program to accomplish the same goal.  Some ways are more are more efficient and some are less efficient. <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><p class="line867"><a class="http" href="../vesta/doc/man/html/VCacheStats.1.html">VCacheStats</a> is a utility for gathering and printing statistics about the contents of the Vesta cache.  Those statistics can be used as feedback to improve the efficiency of your SDL code. <span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><p class="line862">Before you try to use VCacheStats, you should understand the basics of <a href="HowCachingWorks.html">HowCachingWorks</a>, including: <span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><ul><li><p class="line862">The difference between the <a href="PrimaryKey.html">PrimaryKey</a> and secondary dependencies <span class="anchor" id="line-16"></span></li><li>The different kinds of secondary dependencies <span class="anchor" id="line-17"></span></li><li>The organization of the cache into MultiPKFiles, PKFiles, common fingerprint groups, and cache entries <span class="anchor" id="line-18"></span></li><li><p class="line862">Methods to <a class="http" href="../vesta/doc/sdl-ref/caching.html">control caching behavior</a> including <a class="http" href="../vesta/doc/sdl-ref/primitive-functions/_run_tool.html#tool_dep_control">how dependencies are recorded bu the _run_tool primitive function</a> <span class="anchor" id="line-19"></span></li><li><p class="line862">How to use <a class="http" href="../vesta/doc/man/html/PrintMPKFile.1.html">PrintMPKFile</a> and read its output to get detailed information about the contents of the cache <span class="anchor" id="line-20"></span><ul><li><p class="line891"><a href="DevelopingVesta/PkFileEvolutionExample.html">DevelopingVesta/PkFileEvolutionExample</a> shows several examples of its output with some explanations <span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span></li></ul></li></ul><p class="line862">You may also want to look at <a href="CacheUnderTheHood.html">CacheUnderTheHood</a>. <span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><p class="line862">The rest of this page explains statistics that <a class="http" href="../vesta/doc/man/html/VCacheStats.1.html">VCacheStats</a> reports, and how to improve functions that you find using VCacheStats. <span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span><p class="line867">
<h1 id="Statistics">Statistics</h1>
<span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><p class="line867">
<h2 id="PKFile_size_.28in_bytes.29">PKFile size (in bytes)</h2>
<span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><p class="line862">All entries with the same <a href="PrimaryKey.html">PrimaryKey</a> are stored together in a PKFile.  The size of a particular PKFile gives you a rough indication of the total amount of data stored for all the entries  of that <a href="PrimaryKey.html">PrimaryKey</a>.  It also indicates the amount of data that may be read into memory for that <a href="PrimaryKey.html">PrimaryKey</a>. <span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><p class="line874">Large PKFiles can obviously take up disk space.  They may also cause the cache daemon to use a large amount of memory. <span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><p class="line867">
<h3 id="How_to_Improve">How to Improve</h3>
<span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><p class="line874">A large PKFile could indicate any one of several things: <span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><ul><li><p class="line862">A <a href="PrimaryKey.html">PrimaryKey</a> with a large number of cache entries <span class="anchor" id="line-39"></span><ul><li>See also the statistic &quot;Number of cache entries per PKFile&quot; <span class="anchor" id="line-40"></span></li></ul></li><li><p class="line862">A <a href="PrimaryKey.html">PrimaryKey</a> with a large number of secondary dependencies <span class="anchor" id="line-41"></span><ul><li>See also the statistic &quot;Number of free variables per PKFile&quot; <span class="anchor" id="line-42"></span></li></ul></li><li><p class="line862">A <a href="PrimaryKey.html">PrimaryKey</a> with large cached values (i.e. composite SDL values with many sub-values) <span class="anchor" id="line-43"></span><ul><li>See also the statistic &quot;Cache value size (in bytes)&quot; <span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span></li></ul></li></ul><p class="line874">What can you do about these things? <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><ul><li><p class="line862">Move secondary dependencies into the <a href="PrimaryKey.html">PrimaryKey</a> to divide up cache entries into more PKFiles <span class="anchor" id="line-48"></span></li><li>Change the function to return smaller values <span class="anchor" id="line-49"></span></li><li>Reduce the number of secondary dependencies of the function <span class="anchor" id="line-50"></span></li><li><p class="line862">Suppress caching of the function with <tt>/**nocache**/</tt> <span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span></li></ul><p class="line867">
<h2 id="Number_of_free_variables_per_PKFile">Number of free variables per PKFile</h2>
<span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><p class="line867"><em>Free variables</em> (also known as <em>secondary dependencies</em>) are the set of values that must match for a cached result to be re-used.  They are recorded dynamically as a function call is evaluated, so they represent exactly what values the function actually used.  (See <a href="HowCachingWorks.html">HowCachingWorks</a> for a more detailed explanation.) <span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><p class="line862">The set of free variables in a PKFile is the union of all the sets of free variables of each of the cache entries for the <a href="PrimaryKey.html">PrimaryKey</a> of the PKFile.  When the evaluator performs a lookup for a particular <a href="PrimaryKey.html">PrimaryKey</a>, it must supply values for all the free variables which all the cache entries for that <a href="PrimaryKey.html">PrimaryKey</a> depended upon. <span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><p class="line874">The amount of work that the evaluator and the cache server daemon must do to perform a cache lookup is proportional to the number of free variables in the PKFile.  The more more free variables a PKFile has, the more work both the client and the server must do to search for a matching cache entry.  Reducing the number of free variables will make cache lookups more efficient. <span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><p class="line874">Free variables also consume network bandwidth during a cache lookup.  The cache server must send the set of free variables to the client, and the client must send back the fingerprint of the corresponding value for each.  So reducing the number of free variables reduces network utilization. <span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><p class="line874">The free variables also take up space in the PKFile on disk, so this is related to the statistic &quot;PKFile size (in bytes)&quot;. <span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><p class="line867">
<h3 id="How_to_Improve-1">How to Improve</h3>
<span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><p class="line862">The simplest way to reduce the free variables of a PKFile is to move those values into the <a href="PrimaryKey.html">PrimaryKey</a>.  This has the added benefit of splitting up cache entries into more PKFiles, which means fewer entries need to be considered when searching for a match. <span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><p class="line862">For user-defined functions in SDL, you use the <tt>/**pk**/</tt> pragma on function arguments to include them in the primary key.  (See <a class="http" href="../vesta/doc/sdl-ref/caching.html">&quot;Controlling Cache Behavior&quot; in the programmer's reference</a> and <a class="http" href="../vesta/doc/man/html/vesta.1.html#pragmas">the description of pragmas in the vesta(1) man page</a>.)  Remember that if you apply the <tt>/**pk**/</tt> pragma to arguments which the function doesn't necessarily use, you may cause <em>false cache misses</em>.  In some cases, you may need to re-factor the SDL code in order to get the right values into function arguments to which you can apply the <tt>/**pk**/</tt> pragma.  For example, consider this function: <span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><p class="line867"><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="UsingVCacheStats.html#" onclick="return togglenumber(\'CA-a32324ab399d7a1862bc296f12cdab4036a1da0d\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-a32324ab399d7a1862bc296f12cdab4036a1da0d" lang="en"><span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-a32324ab399d7a1862bc296f12cdab4036a1da0d_1">   1</a> </span><span class="LineAnchor" id="CA-a32324ab399d7a1862bc296f12cdab4036a1da0d_1"></span><span class="ID">f</span><span class="SPChar">(</span><span class="ID">b1</span><span class="SPChar">,</span> <span class="ID">b2</span><span class="SPChar">,</span> <span class="ID">n</span><span class="SPChar">)</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-a32324ab399d7a1862bc296f12cdab4036a1da0d_2">   2</a> </span><span class="LineAnchor" id="CA-a32324ab399d7a1862bc296f12cdab4036a1da0d_2"></span><span class="SPChar">{</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-a32324ab399d7a1862bc296f12cdab4036a1da0d_3">   3</a> </span><span class="LineAnchor" id="CA-a32324ab399d7a1862bc296f12cdab4036a1da0d_3"></span>  <span class="ResWord">return</span> <span class="ID">b1</span><span class="SPChar">/</span>$<span class="ID">n</span> <span class="SPChar">+</span> <span class="ID">b2</span><span class="SPChar">/</span>$<span class="ID">n</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-a32324ab399d7a1862bc296f12cdab4036a1da0d_4">   4</a> </span><span class="LineAnchor" id="CA-a32324ab399d7a1862bc296f12cdab4036a1da0d_4"></span><span class="SPChar">}</span><span class="SPChar">;</span></span>
</pre></div><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><p class="line862">Because only one sub-value from the two binding arguments &quot;<tt>b1</tt>&quot; and &quot;<tt>b2</tt>&quot; are used, we don't want to include &quot;<tt>b1</tt>&quot; and &quot;<tt>b2</tt>&quot; in the <a href="PrimaryKey.html">PrimaryKey</a>.  Doing that would cause false cache misses in the future if other parts of &quot;<tt>b1</tt>&quot; and &quot;<tt>b2</tt>&quot; that the function doesn't use change from one call to another.  However we could re-write this function like so: <span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><p class="line867"><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="UsingVCacheStats.html#" onclick="return togglenumber(\'CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4" lang="en"><span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_1">   1</a> </span><span class="LineAnchor" id="CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_1"></span><span class="Comment">/**nocache**/</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_2">   2</a> </span><span class="LineAnchor" id="CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_2"></span><span class="ID">f</span><span class="SPChar">(</span><span class="ID">b1</span><span class="SPChar">,</span> <span class="ID">b2</span><span class="SPChar">,</span> <span class="ID">n</span><span class="SPChar">)</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_3">   3</a> </span><span class="LineAnchor" id="CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_3"></span><span class="SPChar">{</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_4">   4</a> </span><span class="LineAnchor" id="CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_4"></span>  <span class="ID">f_inner</span><span class="SPChar">(</span><span class="Comment">/**pk**/</span> <span class="ID">v1</span><span class="SPChar">,</span> <span class="Comment">/**pk**/</span> <span class="ID">v2</span><span class="SPChar">)</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_5">   5</a> </span><span class="LineAnchor" id="CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_5"></span>  <span class="SPChar">{</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_6">   6</a> </span><span class="LineAnchor" id="CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_6"></span>    <span class="ResWord">return</span> <span class="ID">v1</span> <span class="SPChar">+</span> <span class="ID">v2</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_7">   7</a> </span><span class="LineAnchor" id="CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_7"></span>  <span class="SPChar">}</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_8">   8</a> </span><span class="LineAnchor" id="CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_8"></span>  <span class="ResWord">return</span> <span class="ID">f_inner</span><span class="SPChar">(</span><span class="ID">b1</span><span class="SPChar">/</span>$<span class="ID">n</span><span class="SPChar">,</span> <span class="ID">b2</span><span class="SPChar">/</span>$<span class="ID">n</span><span class="SPChar">)</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_9">   9</a> </span><span class="LineAnchor" id="CA-a9b97307ecfbf7b9150e38dccb25e87587ff39f4_9"></span><span class="SPChar">}</span><span class="SPChar">;</span></span>
</pre></div><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><p class="line862">The outer function has caching suppressed with <tt>/**nocache**/</tt> and simply arranges the correct values in the arguments of the inner cached function.  Now we can use the <tt>/**pk**/</tt> pragma on the two values used by the function. <span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><p class="line862">In some other cases you can reduce secondary dependencies by using a different operators or functions inside an SDL function.  For example, when used on bindings <a class="http" href="../vesta/doc/sdl-ref/primitive-functions/_append.html">the _append primitive function</a> will generate fewer free variables than either the <tt>++</tt> recursive overlay operator or the <tt>+</tt> overlay operator. <span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><p class="line862">For <tt>_run_tool</tt> calls, you can use <a class="http" href="../vesta/doc/sdl-ref/primitive-functions/_run_tool.html#tool_dep_control">./tool_dep_control/pk</a> to add portions of the tool filesystem to the <a href="PrimaryKey.html">PrimaryKey</a>.  Of course you can also pass information to the tool through command line arguments, <tt>./envVars</tt> (environment variables), or standard input, all of which are always included in the <tt>_run_tool</tt> <a href="PrimaryKey.html">PrimaryKey</a>. <span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><p class="line862">You can also use <a class="http" href="../vesta/doc/sdl-ref/primitive-functions/_run_tool.html#tool_dep_control">./tool_dep_control/coarse and ./tool_dep_control/coarse_names</a> to control how <tt>_run_tool</tt> records dependencies.  If there's an empty directory in which a tool writes temporary files with random names, it would be a good idea to record it coarsely with <tt>./tool_dep_control/coarse</tt>.  Otherwise you can get many free variables from different runs of the same tool picking different random temporary file names.  If a directory contains some files which are used by the tool and some which are unused but the tool is also placing files with random names there (or looking for files with random names there) then use <tt>./tool_dep_control/coarse_names</tt> instead. <span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><p class="line867">
<h2 id="Number_of_common_free_variables_per_PKFile">Number of common free variables per PKFile</h2>
<span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><p class="line867">
<h3 id="How_to_Improve-2">How to Improve</h3>
<span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><p class="line867">
<h2 id="Percentage_of_common_free_variables_per_PKFile">Percentage of common free variables per PKFile</h2>
<span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><p class="line867">
<h3 id="How_to_Improve-3">How to Improve</h3>
<span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><p class="line867">
<h2 id="Number_of_cache_entries_per_PKFile">Number of cache entries per PKFile</h2>
<span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><p class="line867">
<h3 id="How_to_Improve-4">How to Improve</h3>
<span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><p class="line867">
<h2 id="Number_of_total_free_variables_per_cache_entry">Number of total free variables per cache entry</h2>
<span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><p class="line867">
<h3 id="How_to_Improve-5">How to Improve</h3>
<span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><p class="line867">
<h2 id="Number_of_uncommon_free_variables_per_cache_entry">Number of uncommon free variables per cache entry</h2>
<span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><p class="line867">
<h3 id="How_to_Improve-6">How to Improve</h3>
<span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span><p class="line867">
<h2 id="Percentage_of_uncommon_free_variables_per_cache_entry">Percentage of uncommon free variables per cache entry</h2>
<span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><p class="line867">
<h3 id="How_to_Improve-7">How to Improve</h3>
<span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span><p class="line867">
<h2 id="Cache_value_size_.28in_bytes.29">Cache value size (in bytes)</h2>
<span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span><p class="line867">
<h3 id="How_to_Improve-8">How to Improve</h3>
<span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><p class="line867">
<h2 id="Number_of_derived_indices_.28DI.27s.29_per_cache_value">Number of derived indices (DI's) per cache value</h2>
<span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span><p class="line867">
<h3 id="How_to_Improve-9">How to Improve</h3>
<span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><p class="line867">
<h2 id="Number_of_child_entries_.28kids.29_per_cache_entry">Number of child entries (kids) per cache entry</h2>
<span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><p class="line862">Cache entries form a call graph.  When one cached function calls another, the caller refers to the callee as a <em>child cache entry</em>.  (See also <a href="GraphLog.html">GraphLog</a>.)  This allows the weeder to keep the entire call graph of a build.  (See also <a href="HowWeedingWorks.html">HowWeedingWorks</a>.) <span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span><p class="line874">If a cache entry has a lot of child cache entries, it means that when a build cache misses on that function it will need to perform cache lookups for all those children.  Unfortunately, cache lookups are not free.  They take time, network bandwidth, CPU resources on the client evaluating the build, and CPU and I/O resources on the server running the cache daemon.  A function with lots of child cache entries may represent an opportunity to eliminate some cache lookups. <span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><p class="line867">
<h3 id="How_to_Improve-10">How to Improve</h3>
<span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span><p class="line862">One possible cause is a function that uses a simplistic <tt>foreach</tt> loop or <tt>_map</tt>/<tt>_par_map</tt> to process an arbitrarily large number of sub-components.  You can solve this by using a <a href="BalancedCallTree.html">BalancedCallTree</a>. <span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span><p class="line862">Another possible cause is a function that calls a tree of <tt>/**nocache**/</tt> functions which then call cached functions. <span class="anchor" id="line-174"></span><span class="anchor" id="line-175"></span><p class="line867"><span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span><span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span><span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span><span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span><span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span><span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span><span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span><span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span><span class="anchor" id="line-248"></span><img src="UsingVCacheStats%3Faction=AttachFile&amp;do=get&amp;target=autogenerated-a9006131f1ae7aaa2b9a94e96f75834798e89cf8.png" /><span class="anchor" id="line-249"></span><span class="anchor" id="line-250"></span><p class="line867"><span class="anchor" id="line-251"></span><span class="anchor" id="line-252"></span><span class="anchor" id="line-253"></span><span class="anchor" id="line-254"></span><span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span><span class="anchor" id="line-257"></span><img src="UsingVCacheStats%3Faction=AttachFile&amp;do=get&amp;target=autogenerated-b250b52d78d62baaae7d7caa28007e3f39224a56.png" /><span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span><p class="line862">Only the evaluator knows about <tt>/**nocache**/</tt> functions; the cache never sees them.  The cache only knows about cached functions that call other cached functions.  So in a case like this, it looks like one cached function that calls the <tt>/**nocache**/</tt> function calls all the leaf cached functions.  You may want to consider making some intermediate functions cached to reduce the fanout of the function with the many child cache entries. <span class="anchor" id="line-260"></span><span class="anchor" id="line-261"></span><p class="line874">Another possible cause is a function that calls the same cached function multiple times: <span class="anchor" id="line-262"></span><span class="anchor" id="line-263"></span><p class="line867"><span class="anchor" id="line-264"></span><span class="anchor" id="line-265"></span><span class="anchor" id="line-266"></span><span class="anchor" id="line-267"></span><span class="anchor" id="line-268"></span><span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span><span class="anchor" id="line-271"></span><span class="anchor" id="line-272"></span><span class="anchor" id="line-273"></span><span class="anchor" id="line-274"></span><span class="anchor" id="line-275"></span><span class="anchor" id="line-276"></span><span class="anchor" id="line-277"></span><span class="anchor" id="line-278"></span><span class="anchor" id="line-279"></span><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="UsingVCacheStats.html#" onclick="return togglenumber(\'CA-5591af3dad257e87ebe320698cbb52bffd69d937\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937" lang="en"><span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-5591af3dad257e87ebe320698cbb52bffd69d937_1">   1</a> </span><span class="LineAnchor" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937_1"></span><span class="ID">g</span><span class="SPChar">(</span><span class="SPChar">)</span> <span class="SPChar">{</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-5591af3dad257e87ebe320698cbb52bffd69d937_2">   2</a> </span><span class="LineAnchor" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937_2"></span>  <span class="Comment">// ...</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-5591af3dad257e87ebe320698cbb52bffd69d937_3">   3</a> </span><span class="LineAnchor" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937_3"></span><span class="SPChar">}</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-5591af3dad257e87ebe320698cbb52bffd69d937_4">   4</a> </span><span class="LineAnchor" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937_4"></span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-5591af3dad257e87ebe320698cbb52bffd69d937_5">   5</a> </span><span class="LineAnchor" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937_5"></span><span class="ID">f</span><span class="SPChar">(</span><span class="SPChar">)</span> <span class="SPChar">{</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-5591af3dad257e87ebe320698cbb52bffd69d937_6">   6</a> </span><span class="LineAnchor" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937_6"></span>  <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span> <span class="ID">g</span><span class="SPChar">(</span><span class="SPChar">)</span> <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-5591af3dad257e87ebe320698cbb52bffd69d937_7">   7</a> </span><span class="LineAnchor" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937_7"></span>  <span class="Comment">// ...</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-5591af3dad257e87ebe320698cbb52bffd69d937_8">   8</a> </span><span class="LineAnchor" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937_8"></span>  <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span> <span class="ID">g</span><span class="SPChar">(</span><span class="SPChar">)</span> <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-5591af3dad257e87ebe320698cbb52bffd69d937_9">   9</a> </span><span class="LineAnchor" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937_9"></span>  <span class="Comment">// ...</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-5591af3dad257e87ebe320698cbb52bffd69d937_10">  10</a> </span><span class="LineAnchor" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937_10"></span>  <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span> <span class="ID">g</span><span class="SPChar">(</span><span class="SPChar">)</span> <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-5591af3dad257e87ebe320698cbb52bffd69d937_11">  11</a> </span><span class="LineAnchor" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937_11"></span>  <span class="Comment">// ...</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-5591af3dad257e87ebe320698cbb52bffd69d937_12">  12</a> </span><span class="LineAnchor" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937_12"></span>  <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span> <span class="ID">g</span><span class="SPChar">(</span><span class="SPChar">)</span> <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-5591af3dad257e87ebe320698cbb52bffd69d937_13">  13</a> </span><span class="LineAnchor" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937_13"></span>  <span class="Comment">// ...</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-5591af3dad257e87ebe320698cbb52bffd69d937_14">  14</a> </span><span class="LineAnchor" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937_14"></span>  <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span> <span class="ID">g</span><span class="SPChar">(</span><span class="SPChar">)</span> <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-5591af3dad257e87ebe320698cbb52bffd69d937_15">  15</a> </span><span class="LineAnchor" id="CA-5591af3dad257e87ebe320698cbb52bffd69d937_15"></span><span class="SPChar">}</span><span class="SPChar">;</span></span>
</pre></div><span class="anchor" id="line-280"></span><span class="anchor" id="line-281"></span><p class="line862">The system can't optimize out such multiple calls for you.  Each call to the function <tt>g</tt> causes a lookup to the cache server, including all the costs.   So unless the arguments to the called function are changing between calls, it's better to make the call once and save the result: <span class="anchor" id="line-282"></span><span class="anchor" id="line-283"></span><p class="line867"><span class="anchor" id="line-284"></span><span class="anchor" id="line-285"></span><span class="anchor" id="line-286"></span><span class="anchor" id="line-287"></span><span class="anchor" id="line-288"></span><span class="anchor" id="line-289"></span><span class="anchor" id="line-290"></span><span class="anchor" id="line-291"></span><span class="anchor" id="line-292"></span><span class="anchor" id="line-293"></span><span class="anchor" id="line-294"></span><span class="anchor" id="line-295"></span><span class="anchor" id="line-296"></span><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="UsingVCacheStats.html#" onclick="return togglenumber(\'CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155" lang="en"><span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_1">   1</a> </span><span class="LineAnchor" id="CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_1"></span><span class="ID">f</span><span class="SPChar">(</span><span class="SPChar">)</span> <span class="SPChar">{</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_2">   2</a> </span><span class="LineAnchor" id="CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_2"></span>  <span class="ID">g_result</span> <span class="SPChar">=</span> <span class="ID">g</span><span class="SPChar">(</span><span class="SPChar">)</span><span class="SPChar">;</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_3">   3</a> </span><span class="LineAnchor" id="CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_3"></span>  <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span> <span class="ID">g_result</span> <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_4">   4</a> </span><span class="LineAnchor" id="CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_4"></span>  <span class="Comment">// ...</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_5">   5</a> </span><span class="LineAnchor" id="CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_5"></span>  <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span> <span class="ID">g_result</span> <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_6">   6</a> </span><span class="LineAnchor" id="CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_6"></span>  <span class="Comment">// ...</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_7">   7</a> </span><span class="LineAnchor" id="CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_7"></span>  <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span> <span class="ID">g_result</span> <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_8">   8</a> </span><span class="LineAnchor" id="CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_8"></span>  <span class="Comment">// ...</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_9">   9</a> </span><span class="LineAnchor" id="CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_9"></span>  <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span> <span class="ID">g_result</span> <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_10">  10</a> </span><span class="LineAnchor" id="CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_10"></span>  <span class="Comment">// ...</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_11">  11</a> </span><span class="LineAnchor" id="CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_11"></span>  <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span> <span class="ID">g_result</span> <span class="ID">.</span><span class="ID">.</span><span class="ID">.</span></span>
<span class="line"><span class="LineNumber"><a href="UsingVCacheStats.html#CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_12">  12</a> </span><span class="LineAnchor" id="CA-f61fb099ee0e5db6f1a0b624d1524fbc83ff8155_12"></span><span class="SPChar">}</span><span class="SPChar">;</span></span>
</pre></div><span class="anchor" id="line-297"></span><span class="anchor" id="line-298"></span><p class="line862">You can find cases like this when one cache entry has the same <a href="CacheIndex.html">CacheIndex</a> listed multiple times as a child. <span class="anchor" id="line-299"></span><span class="anchor" id="line-300"></span><p class="line867">
<h2 id="Size_of_the_cached_value.27s_PrefixTbl">Size of the cached value's PrefixTbl</h2>
<span class="anchor" id="line-301"></span><span class="anchor" id="line-302"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-303"></span><span class="anchor" id="line-304"></span><p class="line867">
<h3 id="How_to_Improve-11">How to Improve</h3>
<span class="anchor" id="line-305"></span><span class="anchor" id="line-306"></span><p class="line867"><em>(to be written)</em> <span class="anchor" id="line-307"></span><span class="anchor" id="bottom"></span></div>
<div id="pagebottom"></div>
</div>


<div id="footer">
<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>
</html>

