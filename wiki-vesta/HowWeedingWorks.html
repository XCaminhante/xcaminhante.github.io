<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="index,nofollow">

<title>HowWeedingWorks - Vesta Wiki</title>
<script type="text/javascript" src="moin_static199/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="moin_static199/vesta/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="moin_static199/vesta/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="moin_static199/vesta/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="moin_static199/vesta/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="moin_static199/vesta/css/msie.css">
<![endif]-->


<link rel="alternate" title="Vesta Wiki: HowWeedingWorks" href="HowWeedingWorks%3Fdiffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=HowWeedingWorks&amp;ddiffs=1.html" type="application/rss+xml">


<link rel="Start" href="FrontPage.html">
<link rel="Alternate" title="Wiki Markup" href="HowWeedingWorks%3Faction=raw.html">
<link rel="Alternate" media="print" title="Print View" href="HowWeedingWorks%3Faction=print.html">
<link rel="Search" href="FindPage.html">
<link rel="Index" href="TitleIndex.html">
<link rel="Glossary" href="WordIndex.html">
<link rel="Help" href="HelpOnFormatting.html">
</head>

<body  lang="en" dir="ltr">

<div id="header">

<form id="searchform" method="get" action="HowWeedingWorks.html">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<div id="logo"><a href="FrontPage.html"><img src="wiki/vesta/img/1line.png" alt="Vesta" height=44 width=202></a></div>
<div id="locationline">

<ul id="pagelocation">
<li><a href="HowWeedingWorks.html">HowWeedingWorks</a></li>
</ul>

</div>
</div>

<div id="sidebar">
<div class="sidepanel">
<h1>Wiki</h1>

<ul id="navibar">
<li class="wikilink"><a href="RecentChanges.html">RecentChanges</a></li><li class="wikilink"><a href="FindPage.html">FindPage</a></li><li class="wikilink"><a href="HelpContents.html">HelpContents</a></li><li class="current"><a href="HowWeedingWorks.html">HowWeedingWorks</a></li>
</ul>

</div>
<div class="sidepanel">
<h1>User</h1>
<ul id="username"><li><a href="HowWeedingWorks%3Faction=login.html" id="login" rel="nofollow">Login</a></li></ul>
</div>
</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line874">This page gives a brief overview of how the weeding process works <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="HowWeedingWorks.html#Normal_Process">Normal Process</a><ol><li>
<a href="HowWeedingWorks.html#Check_for_Partially_Completed_Weed">Check for Partially Completed Weed</a></li><li>
<a href="HowWeedingWorks.html#Check_for_Another_Running_Weeder">Check for Another Running Weeder</a></li><li>
<a href="HowWeedingWorks.html#Mark_Phase">Mark Phase</a><ol><li>
<a href="HowWeedingWorks.html#StartMark">StartMark</a></li><li>
<a href="HowWeedingWorks.html#Mark_Entries_From_Instructions">Mark Entries From Instructions</a></li><li>
<a href="HowWeedingWorks.html#Initial_Set_to_be_Weeded">Initial Set to be Weeded</a></li><li>
<a href="HowWeedingWorks.html#Get_Leased_Entries">Get Leased Entries</a></li><li>
<a href="HowWeedingWorks.html#Resume_Lease_Expiration">Resume Lease Expiration</a></li><li>
<a href="HowWeedingWorks.html#Mark_Leased_Entries">Mark Leased Entries</a></li><li>
<a href="HowWeedingWorks.html#End_of_Mark_Phase">End of Mark Phase</a></li></ol></li><li>
<a href="HowWeedingWorks.html#Store_State_on_Disk">Store State on Disk</a></li><li>
<a href="HowWeedingWorks.html#Deletion_Phase">Deletion Phase</a><ol><li>
<a href="HowWeedingWorks.html#EndMark">EndMark</a></li><li>
<a href="HowWeedingWorks.html#Deleting_Files">Deleting Files</a></li><li>
<a href="HowWeedingWorks.html#Pruning_the_Graph_Log">Pruning the Graph Log</a></li><li>
<a href="HowWeedingWorks.html#Clear_State_on_Disk">Clear State on Disk</a></li><li>
<a href="HowWeedingWorks.html#Checkpoint_the_Repository">Checkpoint the Repository</a></li><li>
<a href="HowWeedingWorks.html#End_of_Deletion_Phase">End of Deletion Phase</a></li></ol></li></ol></li><li>
<a href="HowWeedingWorks.html#QuickWeed_Process">QuickWeed Process</a></li><li>
<a href="HowWeedingWorks.html#When_Does_the_Repository_Daemon_Block.3F">When Does the Repository Daemon Block?</a><ol><li>
<a href="HowWeedingWorks.html#Finding_Source_Files_To_Keep">Finding Source Files To Keep</a></li><li>
<a href="HowWeedingWorks.html#Checkpointing">Checkpointing</a></li></ol></li><li>
<a href="HowWeedingWorks.html#See_Also">See Also</a></li></ol></div> <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><p class="line867">
<h1 id="Normal_Process">Normal Process</h1>
<span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><p class="line862">Output from the weeder (VestaWeed) will be shown as if it were run with full debugging out (&quot;-debug All&quot; on the command line). <span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><p class="line867">
<h2 id="Check_for_Partially_Completed_Weed">Check for Partially Completed Weed</h2>
<span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><p class="line874">Since weeding is not an instantaneous process, the weeder might be terminated after doing only some of its work.  When it starts up, it must check whether another weeder exited part-way through doing its work. <span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><p class="line874">The weeder stores some of state on disk to make sure that it can recover and continue a partially completed weed: <span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><p class="line867"><span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><pre><span class="anchor" id="line-1"></span>02:55:03.702 07/27/2007 -- Recovering `weeded'
<span class="anchor" id="line-2"></span>  weeded = &lt;&lt;Empty&gt;&gt;</pre><p class="line874"> <span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><p class="line874">(If there were a partially performed weeder run that needs to be completed, the on-disk weeded set wouldn't be empty.) <span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span><p class="line867">
<h2 id="Check_for_Another_Running_Weeder">Check for Another Running Weeder</h2>
<span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><p class="line874">Sicne Vesta is a multi-process, multi-machine system there could be more than one weeder trying to work at the same time.  The cache daemon helps the weeder avoid this by remembering when a weeder is running.  The weeder calls the cache to tell it when its starting up, and that's when the check is performed: <span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><p class="line867"><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><pre><span class="anchor" id="line-1-1"></span>02:55:03.702 07/27/2007 -- CALLING -- WeederRecovering
<span class="anchor" id="line-2-1"></span>  doneMarking = false
<span class="anchor" id="line-3"></span>
<span class="anchor" id="line-4"></span>02:55:03.702 07/27/2007 -- RETURNED -- WeederRecovering
<span class="anchor" id="line-5"></span>  err = false</pre><span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><p class="line874">If there was another weeder running, the weeder would exit with an error at this point. <span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><p class="line867">
<h2 id="Mark_Phase">Mark Phase</h2>
<span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><p class="line862">The primary job of the weeder is to decide which function calls stored in the cache daemon should be kept.  This is essentially a mark-sweep <a class="http" href="http://en.wikipedia.org/wiki/Garbage_collection_(computer_science)">garbage collection</a> operation.  Deciding which entries to keep is called the <em>mark pahse</em> by the weeder: <span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><p class="line867"><span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><pre><span class="anchor" id="line-1-2"></span>02:55:03.702 07/27/2007 -- Starting weeder mark phase</pre><span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><p class="line867">
<h3 id="StartMark">StartMark</h3>
<span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><p class="line862">The weeder needs to know what cache entries currently exist when it starts.  To determine this, it calls the cache daemon's StartMark procedure: <span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><p class="line867"><span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><pre><span class="anchor" id="line-1-3"></span>02:55:03.702 07/27/2007 -- CALLING -- StartMark
<span class="anchor" id="line-2-2"></span>
<span class="anchor" id="line-3-1"></span>02:55:03.845 07/27/2007 -- RETURNED -- StartMark
<span class="anchor" id="line-4-1"></span>  initCIs = 
<span class="anchor" id="line-5-1"></span>      0-13666, 13668, 13671, 13673, 13675, 13682, 13684-13685, 
<span class="anchor" id="line-6"></span>      ...
<span class="anchor" id="line-7"></span>      388880-388881, 388884-388885, 388904 
<span class="anchor" id="line-8"></span>    (180411 total)
<span class="anchor" id="line-9"></span>  newLogVer = 176</pre><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><p class="line862">Each cache entry is uniquely identified by a <em>cache index</em> (or &quot;CI&quot;) which is a small integer.  The StartMark procedure returns the set of currently allocated cache index values. <span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><p class="line867">StartMark also returns the next <em>graph log</em> version number. <span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><p class="line867">
<h3 id="Mark_Entries_From_Instructions">Mark Entries From Instructions</h3>
<span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><p class="line862">Based on <a class="http" href="../vesta/doc/man/html/VestaWeed.1.html#InputSect">models that the weeder is told to keep with a root file</a> and any time window specified with <a class="http" href="../vesta/doc/man/html/VestaWeed.1.html#KeepOption">the -keep flag</a>, the weeder picks builds to keep.  It then marks all cache entries that are part of that build.  It does this by reading the cache daemon's <em>graph log</em> which stores the complete function call graph of all builds in the cache. <span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><p class="line867"><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><pre><span class="anchor" id="line-1-4"></span>02:55:03.991 07/27/2007 -- Starting to mark cache entries reachable from roots
<span class="anchor" id="line-2-3"></span>
<span class="anchor" id="line-3-2"></span>02:55:03.991 07/27/2007 -- Starting scan of graph log
<span class="anchor" id="line-4-2"></span>
<span class="anchor" id="line-5-2"></span>02:55:20.064 07/27/2007 -- Finished scan of graph log
<span class="anchor" id="line-6-1"></span>  roots read = 1399
<span class="anchor" id="line-7-1"></span>  nodes read = 180411
<span class="anchor" id="line-8-1"></span>  entries marked = 16024
<span class="anchor" id="line-9-1"></span>  nodes written = 180411</pre><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><p class="line874">Because the graph log is very large, the weeder doesn't keep it all in memory.  Instead, it repeatedly scans the entries from it marking more cache entries to keep each time: <span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><p class="line867"><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><pre><span class="anchor" id="line-1-5"></span>02:55:20.064 07/27/2007 -- Starting scan of pending graph log
<span class="anchor" id="line-2-4"></span>
<span class="anchor" id="line-3-3"></span>02:55:28.989 07/27/2007 -- Finished scan of pending graph log
<span class="anchor" id="line-4-3"></span>  nodes read = 180411
<span class="anchor" id="line-5-3"></span>  entries marked = 95696
<span class="anchor" id="line-6-2"></span>  nodes written = 66501
<span class="anchor" id="line-7-2"></span>...
<span class="anchor" id="line-8-2"></span>02:55:30.413 07/27/2007 -- Starting scan of pending graph log
<span class="anchor" id="line-9-2"></span>
<span class="anchor" id="line-10"></span>02:55:30.707 07/27/2007 -- Finished scan of pending graph log
<span class="anchor" id="line-11"></span>  nodes read = 27328
<span class="anchor" id="line-12"></span>  entries marked = 165
<span class="anchor" id="line-13"></span>  nodes written = 27036
<span class="anchor" id="line-14"></span>
<span class="anchor" id="line-15"></span>02:55:30.707 07/27/2007 -- Starting scan of pending graph log
<span class="anchor" id="line-16"></span>
<span class="anchor" id="line-17"></span>02:55:31.098 07/27/2007 -- Finished scan of pending graph log
<span class="anchor" id="line-18"></span>  nodes read = 27036
<span class="anchor" id="line-19"></span>  entries marked = 0
<span class="anchor" id="line-20"></span>  nodes written = 27036</pre><span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><p class="line874">It stops when it find no more to be marked. <span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><p class="line867">
<h3 id="Initial_Set_to_be_Weeded">Initial Set to be Weeded</h3>
<span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><p class="line874">At this point the weeder has an initial guess at which entries will be kept: <span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><p class="line867"><span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><pre><span class="anchor" id="line-1-6"></span>02:55:31.099 07/27/2007 -- Finished marking cache entries reachable from roots
<span class="anchor" id="line-2-5"></span>  entries marked = 143375</pre><span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><p class="line862">(Note that the entries <em>marked</em> are the ones being kept, <strong>not</strong> <span class="anchor" id="line-121"></span>the ones being deleted.) <span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><p class="line862">The weeder then tells the cache which entries it thinks will be deleted.  It asks the cache to stop letting builds get cache hits on these so that a build won't start using something that's about to be deleted by calling the cache's SetHitFilter procedure: <span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><p class="line867"><span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><pre><span class="anchor" id="line-1-7"></span>02:55:31.099 07/27/2007 -- CALLING -- SetHitFilter
<span class="anchor" id="line-2-6"></span>  cis = 
<span class="anchor" id="line-3-4"></span>      5-6, 86, 732, 743, 811, 1083-1084, 1405, 1429-1430, 1432-1434, 
<span class="anchor" id="line-4-4"></span>      ...
<span class="anchor" id="line-5-4"></span>      208550-208566, 215289-215302, 215318-215321, 215324-215329 
<span class="anchor" id="line-6-3"></span>    (37036 total)
<span class="anchor" id="line-7-3"></span>
<span class="anchor" id="line-8-3"></span>02:55:32.489 07/27/2007 -- RETURNED -- SetHitFilter</pre><span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><p class="line874">(Note that this set is the initial set of CIs minus those which have <span class="anchor" id="line-137"></span>been marked to be kept.) <span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span><p class="line867">
<h3 id="Get_Leased_Entries">Get Leased Entries</h3>
<span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span><p class="line874">Next the weeder must find out which cache entries currently or recently running builds have been using: <span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><p class="line867"><span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span><span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span><pre><span class="anchor" id="line-1-8"></span>02:55:32.489 07/27/2007 -- CALLING -- GetLeases
<span class="anchor" id="line-2-7"></span>
<span class="anchor" id="line-3-5"></span>02:55:32.490 07/27/2007 -- RETURNED -- GetLeases
<span class="anchor" id="line-4-5"></span>  cis = 
<span class="anchor" id="line-5-5"></span>      14, 107, 120, 242, 245, 269, 273, 286-288, 301, 323, 334, 336, 
<span class="anchor" id="line-6-4"></span>      ...
<span class="anchor" id="line-7-4"></span>      197850, 203841, 203855, 211079, 211144, 215160, 220513 
<span class="anchor" id="line-8-4"></span>    (5126 total)</pre><span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span><p class="line874">It's not safe to delete these, so the weeder must mark them to be kept as well, plus their entire call tree of other cache entries: <span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span><p class="line867"><span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><pre><span class="anchor" id="line-1-9"></span>02:55:32.496 07/27/2007 -- Started marking entries reachable from leased entries</pre><span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span><p class="line867">
<h3 id="Resume_Lease_Expiration">Resume Lease Expiration</h3>
<span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span><p class="line862">Normally cache entry leases only last for a little while.  (See the secription of the <tt>[CacheServer]LeaseTimeoutHrs</tt> configuration setting on <a class="http" href="../vesta/doc/man/html/VCache.1.html">the cache daemon man page</a>.)  However, during the initial part of the weeder's work leases don't expire.  Now that the weeder has the set of cache entry leases it is safe for them to expire again so it tells the cache server that by calling ResumeLeaseExp: <span class="anchor" id="line-163"></span><span class="anchor" id="line-164"></span><p class="line867"><span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span><pre><span class="anchor" id="line-1-10"></span>02:55:32.496 07/27/2007 -- CALLED -- ResumeLeaseExp
<span class="anchor" id="line-2-8"></span>
<span class="anchor" id="line-3-6"></span>02:55:32.496 07/27/2007 -- RETURNED -- ResumeLeaseExp</pre><span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><p class="line867">
<h3 id="Mark_Leased_Entries">Mark Leased Entries</h3>
<span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><p class="line874">Next the weeder must mark all the entries that were leased to be kept: <span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><p class="line867"><span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><pre><span class="anchor" id="line-1-11"></span>02:55:32.496 07/27/2007 -- Started marking leased cache entries
<span class="anchor" id="line-2-9"></span>
<span class="anchor" id="line-3-7"></span>02:55:32.529 07/27/2007 -- Finished marking leased cache entries
<span class="anchor" id="line-4-6"></span>  entries marked = 51</pre><span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span><p class="line874">Then to find the child cache entires of the leased entries <span class="anchor" id="line-182"></span>(i.e. functions they called) it must again scan the graph log: <span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><p class="line867"><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><pre><span class="anchor" id="line-1-12"></span>02:55:32.529 07/27/2007 -- Starting scan of pending graph log
<span class="anchor" id="line-2-10"></span>
<span class="anchor" id="line-3-8"></span>02:55:32.826 07/27/2007 -- Finished scan of pending graph log
<span class="anchor" id="line-4-7"></span>  nodes read = 27036
<span class="anchor" id="line-5-6"></span>  entries marked = 14
<span class="anchor" id="line-6-5"></span>  nodes written = 26985
<span class="anchor" id="line-7-5"></span>...</pre><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><p class="line867">
<h3 id="End_of_Mark_Phase">End of Mark Phase</h3>
<span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span><p class="line874">Finally the weeder reaches the end of its mark phse and knows all the cache entries to be kept out of the original set: <span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><p class="line867"><span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span><pre><span class="anchor" id="line-1-13"></span>02:55:33.945 07/27/2007 -- Finished weeder mark phase
<span class="anchor" id="line-2-11"></span>  total entries marked = 143426
<span class="anchor" id="line-3-9"></span>  total entries to be weeded = 36985</pre><span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span><p class="line867">
<h2 id="Store_State_on_Disk">Store State on Disk</h2>
<span class="anchor" id="line-205"></span><span class="anchor" id="line-206"></span><p class="line874">To make sure that the weeder can recover if it is terminated before it can complete its work, it writes out its state after it finishes its mark phase: <span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span><p class="line867"><span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span><span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span><span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span><span class="anchor" id="line-225"></span><pre><span class="anchor" id="line-1-14"></span>02:55:33.945 07/27/2007 -- Logging miscellaneous variables
<span class="anchor" id="line-2-12"></span>  startTime = 1185519303
<span class="anchor" id="line-3-10"></span>  disShortId = 0x91cb6300
<span class="anchor" id="line-4-8"></span>  markedRoots =
<span class="anchor" id="line-5-7"></span>    size = 74
<span class="anchor" id="line-6-6"></span>    content =
<span class="anchor" id="line-7-6"></span>      pkgDirFP = f385219c4c4631a1 45e528383948c414; modelShortId = 0x9a02f474   [fresh]
<span class="anchor" id="line-8-5"></span>      ...
<span class="anchor" id="line-9-3"></span>      pkgDirFP = bc034f1c19229a1d be382c6c63c87a49; modelShortId = 0x9a02f474   [fresh]
<span class="anchor" id="line-10-1"></span>
<span class="anchor" id="line-11-1"></span>02:55:33.978 07/27/2007 -- Logging `weeded'
<span class="anchor" id="line-12-1"></span>  weeded = 
<span class="anchor" id="line-13-1"></span>      5-6, 86, 732, 743, 811, 1083-1084, 1405, 1429-1430, 1432-1434, 
<span class="anchor" id="line-14-1"></span>      ...
<span class="anchor" id="line-15-1"></span>      215324-215329 
<span class="anchor" id="line-16-1"></span>    (36985 total)</pre><span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span><p class="line867">
<h2 id="Deletion_Phase">Deletion Phase</h2>
<span class="anchor" id="line-228"></span><span class="anchor" id="line-229"></span><p class="line874">Now that the weeder has determined exactly which entries will be kept and which will be deleted, it begins the deletion phase: <span class="anchor" id="line-230"></span><span class="anchor" id="line-231"></span><p class="line867"><span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span><pre><span class="anchor" id="line-1-15"></span>02:55:34.033 07/27/2007 -- Starting weeder deletion phase</pre><span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><p class="line867">
<h3 id="EndMark">EndMark</h3>
<span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><p class="line862">Earlier the weeder gave the cache server a guess at which entries would be deleted by calling the HitFilter procedure.  Now that it has marked the leased entries and all entries reachable from the leased entries, it can give the cache the full list to be deleted. It does this by calling the EndMark procedure: <span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><p class="line867"><span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span><span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><span class="anchor" id="line-250"></span><pre><span class="anchor" id="line-1-16"></span>02:55:34.646 07/27/2007 -- CALLING -- EndMark
<span class="anchor" id="line-2-13"></span>  cis = 
<span class="anchor" id="line-3-11"></span>      5-6, 86, 732, 743, 811, 1083-1084, 1405, 1429-1430, 1432-1434, 
<span class="anchor" id="line-4-9"></span>      ...
<span class="anchor" id="line-5-8"></span>      215324-215329 
<span class="anchor" id="line-6-7"></span>    (36985 total)
<span class="anchor" id="line-7-7"></span>  prefixes = 17525 total
<span class="anchor" id="line-8-6"></span>
<span class="anchor" id="line-9-4"></span>02:55:34.848 07/27/2007 -- RETURNED -- EndMark
<span class="anchor" id="line-10-2"></span>  chkptVer = 176</pre><span class="anchor" id="line-251"></span><span class="anchor" id="line-252"></span><p class="line874">After this call the cache will begin deleting cache entries.  Of course it continues to keep clients from getting cache hits on any entries which are about to be deleted. <span class="anchor" id="line-253"></span><span class="anchor" id="line-254"></span><p class="line862">Note that &quot;chkptVer&quot; here is the same as &quot;newLogVer&quot; returned by StartMark. <span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span><p class="line867">
<h3 id="Deleting_Files">Deleting Files</h3>
<span class="anchor" id="line-257"></span><span class="anchor" id="line-258"></span><p class="line862">While it was marking entries, the weeder also gathered a list of <em>derived files</em> to keep.  Since all files (both sources and deriveds) are stored by the repository, the weeder must next ask the repository to delete files and reclaim disk space: <span class="anchor" id="line-259"></span><span class="anchor" id="line-260"></span><p class="line867"><span class="anchor" id="line-261"></span><span class="anchor" id="line-262"></span><span class="anchor" id="line-263"></span><span class="anchor" id="line-264"></span><pre><span class="anchor" id="line-1-17"></span>02:55:34.848 07/27/2007 -- Started deleting dead repository files
<span class="anchor" id="line-2-14"></span>
<span class="anchor" id="line-3-12"></span>03:51:25.584 07/27/2007 -- Finished deleting dead repository files</pre><span class="anchor" id="line-265"></span><span class="anchor" id="line-266"></span><p class="line862">See <a href="HowWeedingWorks.html#find_sources_to_keep">&quot;Finding Source Files To Keep&quot; below</a> for a look inside the what the repository daemon does during this step. <span class="anchor" id="line-267"></span><span class="anchor" id="line-268"></span><p class="line867">
<h3 id="Pruning_the_Graph_Log">Pruning the Graph Log</h3>
<span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span><p class="line874">The cache daemon takes care of removing cache entries from the MultiPKFiles in which they are actually stored.  However it doesn't remove them from the graph log, which is a data structure used primarily during weeding.  Instead, the weeder does that: <span class="anchor" id="line-271"></span><span class="anchor" id="line-272"></span><p class="line867"><span class="anchor" id="line-273"></span><span class="anchor" id="line-274"></span><pre><span class="anchor" id="line-1-18"></span>03:51:25.585 07/27/2007 -- Started pruning graph log</pre><span class="anchor" id="line-275"></span><span class="anchor" id="line-276"></span><p class="line862">Essentially the weeder write a new <tt>.ckp</tt> file to go in the graph log suib-directory of the cache.  Once it has done so, it does a little sanity check to make sure that it wrote out all the graph log roots which it marked during the mark phase: <span class="anchor" id="line-277"></span><span class="anchor" id="line-278"></span><p class="line867"><span class="anchor" id="line-279"></span><span class="anchor" id="line-280"></span><pre><span class="anchor" id="line-1-19"></span>03:51:32.478 07/27/2007 -- Checking marked vs. written roots</pre><span class="anchor" id="line-281"></span><span class="anchor" id="line-282"></span><p class="line862">(Graph log <em>roots</em> represent whole builds.  Graph log <em>nodes</em> represent individual cache entries.) <span class="anchor" id="line-283"></span><span class="anchor" id="line-284"></span><p class="line874">Next it prints information on how much it wrote into the new graph log checkpoint: <span class="anchor" id="line-285"></span><span class="anchor" id="line-286"></span><p class="line867"><span class="anchor" id="line-287"></span><span class="anchor" id="line-288"></span><span class="anchor" id="line-289"></span><span class="anchor" id="line-290"></span><pre><span class="anchor" id="line-1-20"></span>03:51:32.478 07/27/2007 -- Finished pruning graph log
<span class="anchor" id="line-2-15"></span>  roots written = 1006
<span class="anchor" id="line-3-13"></span>  nodes written = 143426</pre><span class="anchor" id="line-291"></span><span class="anchor" id="line-292"></span><p class="line862">Finally it asks the cache daemon to accept the new <tt>.ckp</tt> file it has written: <span class="anchor" id="line-293"></span><span class="anchor" id="line-294"></span><p class="line867"><span class="anchor" id="line-295"></span><span class="anchor" id="line-296"></span><span class="anchor" id="line-297"></span><span class="anchor" id="line-298"></span><span class="anchor" id="line-299"></span><span class="anchor" id="line-300"></span><pre><span class="anchor" id="line-1-21"></span>03:51:32.478 07/27/2007 -- CALLED -- CommitChkpt
<span class="anchor" id="line-2-16"></span>  chkptFileName = 176.ckp;46a9a3fd
<span class="anchor" id="line-3-14"></span>
<span class="anchor" id="line-4-10"></span>03:51:34.211 07/27/2007 -- RETURNED -- CommitChkpt
<span class="anchor" id="line-5-9"></span>  result: checkpoint accepted</pre><span class="anchor" id="line-301"></span><span class="anchor" id="line-302"></span><p class="line867">
<h3 id="Clear_State_on_Disk">Clear State on Disk</h3>
<span class="anchor" id="line-303"></span><span class="anchor" id="line-304"></span><p class="line874">Now that the weeder is almost done, it's time to clear the information stored on disk which another process would use to recover and continue a partially completed weed: <span class="anchor" id="line-305"></span><span class="anchor" id="line-306"></span><p class="line867"><span class="anchor" id="line-307"></span><span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span><span class="anchor" id="line-310"></span><span class="anchor" id="line-311"></span><pre><span class="anchor" id="line-1-22"></span>03:51:34.211 07/27/2007 -- Logging `weeded'
<span class="anchor" id="line-2-17"></span>  weeded = 
<span class="anchor" id="line-3-15"></span>      &lt;&lt;Empty&gt;&gt;
<span class="anchor" id="line-4-11"></span>    (0 total)</pre><span class="anchor" id="line-312"></span><span class="anchor" id="line-313"></span><p class="line867">
<h3 id="Checkpoint_the_Repository">Checkpoint the Repository</h3>
<span class="anchor" id="line-314"></span><span class="anchor" id="line-315"></span><p class="line862">Since we have just cleaned up, now is a good time to have the repository write a new <tt>.ckp</tt> file of its own state: <span class="anchor" id="line-316"></span><span class="anchor" id="line-317"></span><p class="line867"><span class="anchor" id="line-318"></span><span class="anchor" id="line-319"></span><span class="anchor" id="line-320"></span><span class="anchor" id="line-321"></span><pre><span class="anchor" id="line-1-23"></span>03:51:34.236 07/27/2007 -- Started checkpointing the repository
<span class="anchor" id="line-2-18"></span>
<span class="anchor" id="line-3-16"></span>03:55:14.743 07/27/2007 -- Finished checkpointing the repository</pre><span class="anchor" id="line-322"></span><span class="anchor" id="line-323"></span><p class="line874">Right after weeding the checkpoint will be  a little more compact than at other times.  Also, writing a new one periodically will help the repository daemon start up faster when it restarts (e.g. in the event of a power outage or other fault). <span class="anchor" id="line-324"></span><span class="anchor" id="line-325"></span><p class="line867">
<h3 id="End_of_Deletion_Phase">End of Deletion Phase</h3>
<span class="anchor" id="line-326"></span><span class="anchor" id="line-327"></span><p class="line874">Finally we reach the end of the weeding process: <span class="anchor" id="line-328"></span><span class="anchor" id="line-329"></span><p class="line867"><span class="anchor" id="line-330"></span><span class="anchor" id="line-331"></span><pre><span class="anchor" id="line-1-24"></span>03:55:14.744 07/27/2007 -- Finished weeder deletion phase</pre><span class="anchor" id="line-332"></span><span class="anchor" id="line-333"></span><p class="line867">
<h1 id="QuickWeed_Process">QuickWeed Process</h1>
<span class="anchor" id="line-334"></span><span class="anchor" id="line-335"></span><p class="line867"><a class="http" href="../vesta/doc/man/html/QuickWeed.1.html">QuickWeed</a> does the same thing as <a class="http" href="../vesta/doc/man/html/VestaWeed.1.html">the normal weeder</a> if you gave it instructions to keep every entry in the cache (i.e. the equivalent of &quot;-keep <em>infinity</em>&quot;).  It does much less work than the normal weeder, but doesn't delete much unless you've just done something like erase your cache. <span class="anchor" id="line-336"></span><span class="anchor" id="line-337"></span><p class="line874">It starts by reading the graph log and gathering a list of every derived file: <span class="anchor" id="line-338"></span><span class="anchor" id="line-339"></span><p class="line867"><span class="anchor" id="line-340"></span><span class="anchor" id="line-341"></span><span class="anchor" id="line-342"></span><span class="anchor" id="line-343"></span><span class="anchor" id="line-344"></span><span class="anchor" id="line-345"></span><span class="anchor" id="line-346"></span><span class="anchor" id="line-347"></span><span class="anchor" id="line-348"></span><span class="anchor" id="line-349"></span><span class="anchor" id="line-350"></span><pre><span class="anchor" id="line-1-25"></span>Writing ShortIds of deriveds to keep to file 95925900
<span class="anchor" id="line-2-19"></span>19:11:51.911 07/27/2007 -- Started marking derived files to keep
<span class="anchor" id="line-3-17"></span>19:11:51.911 07/27/2007 -- Started graph log scan
<span class="anchor" id="line-4-12"></span>  Configuration file: /etc/vesta.cfg
<span class="anchor" id="line-5-10"></span>  Hostname:port: vesta.example.com:21773
<span class="anchor" id="line-6-8"></span>  Graph log: /var/lib/vesta/cache/graphLog
<span class="anchor" id="line-7-8"></span>19:12:00.380 07/27/2007 -- Finished graph log scan
<span class="anchor" id="line-8-7"></span>  Graph log entries processed = 123020
<span class="anchor" id="line-9-5"></span>  Derived files found = 23504083
<span class="anchor" id="line-10-3"></span>19:12:00.381 07/27/2007 -- Finished marking derived files to keep</pre><span class="anchor" id="line-351"></span><span class="anchor" id="line-352"></span><p class="line874">Then it calls the repository daemon to ask it to mark sources to keep and delete files to reclaim space: <span class="anchor" id="line-353"></span><span class="anchor" id="line-354"></span><p class="line867"><span class="anchor" id="line-355"></span><span class="anchor" id="line-356"></span><span class="anchor" id="line-357"></span><pre><span class="anchor" id="line-1-26"></span>19:12:00.381 07/27/2007 -- Started marking sources and deleting unreachable files
<span class="anchor" id="line-2-20"></span>19:13:17.235 07/27/2007 -- Finished marking sources and deleting unreachable files</pre><span class="anchor" id="line-358"></span><span class="anchor" id="line-359"></span><p class="line874">Finally it checkpoints the repository: <span class="anchor" id="line-360"></span><span class="anchor" id="line-361"></span><p class="line867"><span class="anchor" id="line-362"></span><span class="anchor" id="line-363"></span><span class="anchor" id="line-364"></span><pre><span class="anchor" id="line-1-27"></span>19:13:17.235 07/27/2007 -- Started checkpointing the repository
<span class="anchor" id="line-2-21"></span>19:13:18.592 07/27/2007 -- Finished checkpointing the repository</pre><span class="anchor" id="line-365"></span><span class="anchor" id="line-366"></span><p class="line867">
<h1 id="When_Does_the_Repository_Daemon_Block.3F">When Does the Repository Daemon Block?</h1>
<span class="anchor" id="line-367"></span><span class="anchor" id="line-368"></span><p class="line874">There are two points during the weeding process when the repository must stop responding to incoming network requests while it does book-keeping related to weeding.  For most users these delays are very short, however for large repositories they can become noticeable delays. <span class="anchor" id="line-369"></span><span class="anchor" id="line-370"></span><p class="line867"><span class="anchor" id="find_sources_to_keep"></span> <span class="anchor" id="line-371"></span><span class="anchor" id="line-372"></span><p class="line867">
<h2 id="Finding_Source_Files_To_Keep">Finding Source Files To Keep</h2>
<span class="anchor" id="line-373"></span><span class="anchor" id="line-374"></span><p class="line874">When the weeder calls the repository to delete files, it passes a couple arguments: <span class="anchor" id="line-375"></span><span class="anchor" id="line-376"></span><ul><li><p class="line862">A list of derived files to be kept (as 32-bit <em>shortids</em> stored in another shortid file) <span class="anchor" id="line-377"></span></li><li>A time.  Any derived files modified after that point in time will be kept <span class="anchor" id="line-378"></span><span class="anchor" id="line-379"></span></li></ul><p class="line874">Here's how the repository prints these arguments to its standard output (which is normally logged for administrators): <span class="anchor" id="line-380"></span><span class="anchor" id="line-381"></span><p class="line867"><span class="anchor" id="line-382"></span><span class="anchor" id="line-383"></span><pre><span class="anchor" id="line-1-28"></span> 07/27/2007 02:55:34 keep derived: keepDerivedTime 1185519303, sid 0x91cb6300</pre><span class="anchor" id="line-384"></span><span class="anchor" id="line-385"></span><p class="line874">Then the repository must build a list of source files to keep.  It picks another shortid file to hold the list of a sources, and another time.  Any source files with a modification time after this will be kept. <span class="anchor" id="line-386"></span><span class="anchor" id="line-387"></span><p class="line867"><span class="anchor" id="line-388"></span><span class="anchor" id="line-389"></span><pre><span class="anchor" id="line-1-29"></span> 07/27/2007 02:55:34 source weed: keepSourceTime 1185519304, sid 0xb5e0249b</pre><span class="anchor" id="line-390"></span><span class="anchor" id="line-391"></span><p class="line867"><em>After this it must scan <strong>the entire directory structure of the repository</strong> to gather the files to keep.</em>  While it is doing this <strong>it cannot respond to any incoming network requests</strong>.  If it allowed any changes during this period there is a possibility that it might miss some files which should be kept. <span class="anchor" id="line-392"></span><span class="anchor" id="line-393"></span><p class="line874">When it finishes writing the list of sources to keep it prints another message: <span class="anchor" id="line-394"></span><span class="anchor" id="line-395"></span><p class="line867"><span class="anchor" id="line-396"></span><span class="anchor" id="line-397"></span><pre><span class="anchor" id="line-1-30"></span> 07/27/2007 03:28:41 source weed done</pre><span class="anchor" id="line-398"></span><span class="anchor" id="line-399"></span><p class="line874">Once this message is printed, the repository begins handling incoming network requests again. <span class="anchor" id="line-400"></span><span class="anchor" id="line-401"></span><p class="line874">After the repository has determined the list of source files to keep, it combines it with the list of derived files to keep and then deletes all other files. <span class="anchor" id="line-402"></span><span class="anchor" id="line-403"></span><p class="line867"><span class="anchor" id="line-404"></span><span class="anchor" id="line-405"></span><span class="anchor" id="line-406"></span><pre><span class="anchor" id="line-1-31"></span> 07/27/2007 03:35:29 wrote combined keepSidFile 0xb5e0249c
<span class="anchor" id="line-2-22"></span> 07/27/2007 03:51:25 deletions done</pre><span class="anchor" id="line-407"></span><span class="anchor" id="line-408"></span><p class="line867">
<h2 id="Checkpointing">Checkpointing</h2>
<span class="anchor" id="line-409"></span><span class="anchor" id="line-410"></span><p class="line862">When the repository daemon writes a new <tt>.ckp</tt> file containing its entire state (directory structure, attributes, mastership flags, etc.) it must also stop responding to netwokr requests until it has written it out.  It always prints these messages while it is doing this: <span class="anchor" id="line-411"></span><span class="anchor" id="line-412"></span><p class="line867"><span class="anchor" id="line-413"></span><span class="anchor" id="line-414"></span><span class="anchor" id="line-415"></span><pre><span class="anchor" id="line-1-32"></span> 07/27/2007 03:51:34 starting checkpoint
<span class="anchor" id="line-2-23"></span> 07/27/2007 03:55:14 checkpoint done</pre><span class="anchor" id="line-416"></span><span class="anchor" id="line-417"></span><p class="line867">
<h1 id="See_Also">See Also</h1>
<span class="anchor" id="line-418"></span><span class="anchor" id="line-419"></span><p class="line874">Man pages: <span class="anchor" id="line-420"></span><span class="anchor" id="line-421"></span><ul><li><p class="line891"><a class="http" href="../vesta/doc/man/html/VestaWeed.1.html">VestaWeed(1)</a> <span class="anchor" id="line-422"></span></li><li><p class="line891"><a class="http" href="../vesta/doc/man/html/QuickWeed.1.html">QuickWeed(1)</a> <span class="anchor" id="line-423"></span></li><li><p class="line891"><a class="http" href="../vesta/doc/man/html/VCache.1.html">VCache(1)</a> <span class="anchor" id="line-424"></span></li><li><p class="line891"><a class="http" href="../vesta/doc/man/html/repository.8.html">repository(8)</a> <span class="anchor" id="line-425"></span><span class="anchor" id="line-426"></span></li></ul><p class="line874">Other pages in this wiki: <span class="anchor" id="line-427"></span><span class="anchor" id="line-428"></span><ul><li><p class="line891"><a href="HowCachingWorks.html">HowCachingWorks</a> <span class="anchor" id="line-429"></span><span class="anchor" id="line-430"></span></li></ul><p class="line874">Source code packages containing the implementation: <span class="anchor" id="line-431"></span><span class="anchor" id="line-432"></span><ul><li><p class="line891"><a class="http" href="http://pub.vestasys.org/cgi-bin/vestaweb?path=/vesta/vestasys.org/vesta/weeder">/vesta/vestasys.org/vesta/weeder</a> <span class="anchor" id="line-433"></span></li><li><p class="line891"><a class="http" href="http://pub.vestasys.org/cgi-bin/vestaweb?path=/vesta/vestasys.org/vesta/cache">/vesta/vestasys.org/vesta/cache</a> <span class="anchor" id="line-434"></span></li><li><p class="line891"><a class="http" href="http://pub.vestasys.org/cgi-bin/vestaweb?path=/vesta/vestasys.org/vesta/repos">/vesta/vestasys.org/vesta/repos</a> <span class="anchor" id="line-435"></span></li></ul><span class="anchor" id="bottom"></span></div>
<div id="pagebottom"></div>
</div>


<div id="footer">
<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>
</html>

